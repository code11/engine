"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4437],{535:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var t=i(7250),s=i(9596);const a={id:"engine",title:"engine",sidebar_label:"engine"},d=void 0,o={id:"api/engine",title:"engine",description:"Engine application are created by invoking engine function:",source:"@site/docs/api/engine.md",sourceDirName:"api",slug:"/api/engine",permalink:"/engine/docs/api/engine",draft:!1,unlisted:!1,editUrl:"https://github.com/code11/engine/edit/master/docs/docs/api/engine.md",tags:[],version:"current",frontMatter:{id:"engine",title:"engine",sidebar_label:"engine"},sidebar:"docs",previous:{title:"@c11/engine.dashboard",permalink:"/engine/docs/packages/dashboard"},next:{title:"producer",permalink:"/engine/docs/api/producer"}},l={},c=[{value:"Configuration",id:"configuration",level:2},{value:"<code>state</code>",id:"state",level:3},{value:"<code>use: EngineModule[]</code>",id:"use-enginemodule",level:3},{value:"Methods",id:"methods",level:2},{value:"<code>app.start()</code>",id:"appstart",level:3},{value:"<code>app.stop()</code>",id:"appstop",level:3},{value:"<code>app.state: { [key: string]: any; }</code>",id:"appstate--key-string-any-",level:3},{value:"<code>app.use(module: EngineModule): void</code>",id:"appusemodule-enginemodule-void",level:3}];function r(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Engine application are created by invoking ",(0,t.jsx)(n.strong,{children:"engine"})," function:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const app = engine(config: EngineConfig): EngineInstance\n"})}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["The configuration object contains the ",(0,t.jsx)(n.a,{href:"/docs/concepts/state",children:"initial state"})," of\nthe engine app, and ",(0,t.jsx)(n.a,{href:"/docs/modules/engine",children:"Engine Modules"})," it is going to use."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"type EngineConfig = {\n  state?: {\n    [key: string]: any;\n  };\n  use: EngineModule[];\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"state",children:(0,t.jsx)(n.code,{children:"state"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"default:"})," ",(0,t.jsx)(n.code,{children:"{}"})]}),"\n",(0,t.jsx)(n.p,{children:"The initial state that will be available to producers and views when the Engine starts."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/docs/concepts/state",children:"Read more about state"})}),"\n",(0,t.jsx)(n.h3,{id:"use-enginemodule",children:(0,t.jsx)(n.code,{children:"use: EngineModule[]"})}),"\n",(0,t.jsxs)(n.p,{children:["An array of Engine modules that the app will start with. These can also be added\nlater, after the ",(0,t.jsx)(n.code,{children:"app"})," has been created using ",(0,t.jsx)(n.code,{children:"app.use"}),". Engine modules an app\nuses make most decisiosn about it. Including how the app is going to be\nrendered, e.g as a React app."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/docs/modules/engine",children:"Read more about Engine Modules"})}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.p,{children:"The Engine instance exposes some helpful methods for interacting with the Engine runtime."}),"\n",(0,t.jsx)(n.h3,{id:"appstart",children:(0,t.jsx)(n.code,{children:"app.start()"})}),"\n",(0,t.jsxs)(n.p,{children:["Start the Engine app, resulting in mounting all the modules currently in use. It\nis an idempotent function, i.e it can be called multiple times safely. An engine\nmodule is used only once for an engine instance, until ",(0,t.jsx)(n.code,{children:"app.stop()"})," is called."]}),"\n",(0,t.jsx)(n.h3,{id:"appstop",children:(0,t.jsx)(n.code,{children:"app.stop()"})}),"\n",(0,t.jsxs)(n.p,{children:["Halts pending updates to the state and any other triggering of producers (or\nviews). An ",(0,t.jsx)(n.code,{children:"app.start()"})," after a call to ",(0,t.jsx)(n.code,{children:"app.stop()"})," will make all the modules\nto be mounted again."]}),"\n",(0,t.jsx)(n.h3,{id:"appstate--key-string-any-",children:(0,t.jsx)(n.code,{children:"app.state: { [key: string]: any; }"})}),"\n",(0,t.jsxs)(n.p,{children:["Allows patching the application state at runtime. ",(0,t.jsx)(n.code,{children:"app.state"})," takes a new state,\nand merges it with existing state."]}),"\n",(0,t.jsx)(n.h3,{id:"appusemodule-enginemodule-void",children:(0,t.jsx)(n.code,{children:"app.use(module: EngineModule): void"})}),"\n",(0,t.jsxs)(n.p,{children:["Adds new modules to running Engine app. If Engine app is already started,\n",(0,t.jsx)(n.code,{children:"app.use(module)"})," will do nothing until engine app is stopped and started again."]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(r,{...e})}):r(e)}},9596:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>o});var t=i(7402);const s={},a=t.createContext(s);function d(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);